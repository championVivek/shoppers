{"version":3,"sources":["Components/Context/userContext.jsx","Components/Context/basketContext.jsx","Axios.js","Components/Home/Home.jsx","Components/Header/Header.jsx","Components/User/Login/Login.jsx","Components/User/Signup/Signup.jsx","Components/Admin/adminSignup.jsx","Components/Admin/adminLogin.jsx","Components/Admin/AddProduct.jsx","Components/Admin/Products.jsx","Components/Admin/EditProduct/EditProduct.jsx","Components/cart/Cart.jsx","Components/checkout/Checkout.jsx","Components/Orders/Orders.jsx","Components/ProtectedRoute.jsx","Components/NotFound/NotFound.jsx","Reducer.js","App.js","reportWebVitals.js","index.js"],"names":["createContext","instance","axios","create","baseURL","Home","useState","details","setDetails","isLoading","setIsLoading","state","useContext","UserContext","setBasket","BasketContext","history","useHistory","useEffect","getProducts","a","get","products","data","response","msg","toast","error","autoClose","addToBasket","e","isAdmin","undefined","id","dark","position","POSITION","TOP_CENTER","post","target","value","userId","then","result","totalQuantity","buyNow","push","Fragment","Spinner","animation","role","variant","className","CardGroup","map","index","Card","Img","src","imageUrl","Body","Title","title","Text","price","displayType","thousandSeparator","prefix","Button","_id","onClick","Header","dispatch","basket","logout","type","token","username","isLoggedIn","localStorage","setItem","window","location","reload","to","NavDropdown","Item","as","Link","Login","userEmail","setUserEmail","userPassword","setUserPassword","handleSubmit","preventDefault","email","password","Form","onSubmit","Group","controlId","Label","Control","placeholder","onChange","Signup","userName","setName","setEmail","setPassword","name","AdminSignup","AdminLogin","user","AddProduct","setTitle","setPrice","image","setImage","formdata","FormData","append","config","headers","File","label","file","files","Products","allProducts","setAllProducts","fetchProducts","console","log","handleDelete","productId","deleteProduct","success","handleEdit","length","EditProduct","newImage","setNewImage","useParams","useForm","setValue","register","isUpdated","ref","Cart","cartProducts","setCartProducts","totalSum","setTotalSum","getCart","product","totalsum","total","quantity","stripePromise","Stripekey","getDataFromServer","res","loadStripe","Checkout","stripe","clientSecret","redirectToCheckout","sessionId","message","paymentIntent","status","Orders","orders","setOrders","getOrders","handleInvoice","orderId","responseType","pdfblob","Blob","saveAs","ProtectedRoute","Comp","component","path","rest","render","props","NotFound","Reducer","action","usePersistedReducer","createPersistedReducer","initialState","App","getItem","userRes","checkLoggedIn","Provider","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2a55c53.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport default createContext()","import { createContext } from 'react'\r\n\r\nexport default createContext()","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"http://localhost:4000\"\r\n});\r\n\r\nexport default instance;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Card, Button, CardGroup, Spinner } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\r\nimport NumberFormat from \"react-number-format\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport BasketContext from \"../Context/basketContext\";\r\nimport axios from \"../../Axios\";\r\nimport \"./Home.css\";\r\n\r\nfunction Home() {\r\n  const [details, setDetails] = useState([]);\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { state } = useContext(UserContext);\r\n  const { setBasket } = useContext(BasketContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  const getProducts = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const products = await axios.get(\"/products\");\r\n      setIsLoading(false);\r\n      setDetails(products.data);\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  const addToBasket = (e) => {\r\n    if (state.isAdmin === \"true\" || state.id === undefined) {\r\n      toast.dark(\"You have to Login as user to buy an item!\", {\r\n        autoClose: 3000,\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n    } else {\r\n      setIsLoading(true);\r\n      axios\r\n        .post(\"/cart\", { id: e.target.value, userId: state.id })\r\n        .then((result) => {\r\n          setIsLoading(false);\r\n          setBasket(result.data.totalQuantity);\r\n        });\r\n    }\r\n  };\r\n\r\n  const buyNow = (e) => {\r\n    if (state.isAdmin === \"true\" || state.id === undefined) {\r\n      toast.dark(\"You have to Login as user to buy an item!\", {\r\n        autoClose: 3000,\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n    } else {\r\n      setIsLoading(true);\r\n      axios\r\n        .post(\"/cart\", { id: e.target.value, userId: state.id })\r\n        .then((result) => {\r\n          setIsLoading(false);\r\n          history.push(`/basket/${state.id}`);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading ? (\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"info\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      ) : (\r\n        <div className=\"products__list\">\r\n          <CardGroup>\r\n            <ToastContainer />\r\n            <React.Fragment>\r\n              {details.map((data, index) => (\r\n                <Card key={index}>\r\n                  <Card.Img\r\n                    variant=\"top\"\r\n                    src={`http://localhost:4000/${data.imageUrl}`}\r\n                  />\r\n                  <Card.Body>\r\n                    <Card.Title>{data.title}</Card.Title>\r\n                    <Card.Text>Price: <NumberFormat value={data.price} displayType={'text'} thousandSeparator={true} prefix={'₹'} /></Card.Text>\r\n                    <div className=\"card__buttons\">\r\n                      <Button\r\n                        variant=\"info\"\r\n                        value={data._id}\r\n                        onClick={addToBasket}\r\n                      ><ShoppingCartIcon/>\r\n                        Add to cart\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"warning\"\r\n                        value={data._id}\r\n                        onClick={buyNow}\r\n                      ><FlashOnIcon/>\r\n                        Buy Now\r\n                      </Button>\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n              ))}\r\n            </React.Fragment>\r\n          </CardGroup>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { NavDropdown, Button } from \"react-bootstrap\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport BasketContext from \"../Context/basketContext\";\r\nimport \"./Header.css\";\r\n\r\nfunction Header() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const { basket } = useContext(BasketContext);\r\n  const history = useHistory();\r\n\r\n  const logout = () => {\r\n    dispatch({ type: 'SETUSER', token: undefined, id: undefined, username: undefined, isAdmin: undefined, isLoggedIn: false });\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n    localStorage.setItem(\"isAdmin\", null);\r\n    history.push(\"/\");\r\n    window.location.reload(false);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"header\">\r\n      <div className=\"header__brand\">\r\n        <h1>SHOPPERS</h1>\r\n      </div>\r\n      <div className=\"header__nav__left\">\r\n        <Link to=\"/\">Home</Link>\r\n      </div>\r\n      <div className=\"header__search\">\r\n        <input type=\"text\" className=\"header__searchInput\" />\r\n        <SearchIcon className=\"header__searchIcon\" />\r\n      </div>\r\n      {state.id && state.isAdmin === \"false\" ? (\r\n        <div className=\"header__nav\">\r\n          <Link to=\"/myorders\">\r\n            Orders\r\n          </Link>\r\n          <Button variant=\"link\" onClick={logout}>\r\n            Logout\r\n          </Button>\r\n          <div className=\"header__basket\">\r\n            <Link\r\n              className=\"header__basket__link\"\r\n              to={`/basket/${state.id}`}\r\n            >\r\n              <ShoppingCartIcon />\r\n              <span>{basket}</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      ) : state.id && state.isAdmin === \"true\" ? (\r\n        <div className=\"header__nav\">\r\n          <Link\r\n            to={`/admin/products`}\r\n          >\r\n            Products\r\n          </Link>\r\n          <Link\r\n            to=\"/admin/add_product\"\r\n          >\r\n            Add Product\r\n          </Link>\r\n          <Link\r\n            onClick={logout}\r\n          >\r\n            Logout\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"header__nav\">\r\n          <NavDropdown title=\"Login\" id=\"basic-nav-dropdown\" className=\"header__nav__dropdown\">\r\n            <NavDropdown.Item as={Link} to=\"/login\">\r\n              As User\r\n            </NavDropdown.Item>\r\n            <NavDropdown.Item as={Link} to=\"/admin/login\">\r\n              As Seller\r\n            </NavDropdown.Item>\r\n          </NavDropdown>\r\n\r\n          <NavDropdown title=\"Signup\" id=\"basic-nav-dropdown\" className=\"header__nav__dropdown\">\r\n            <NavDropdown.Item as={Link} to=\"/signup\">\r\n              As User\r\n            </NavDropdown.Item>\r\n            <NavDropdown.Item as={Link} to=\"/admin/signup\">\r\n              As Seller\r\n            </NavDropdown.Item>\r\n          </NavDropdown>\r\n        </div>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport UserContext from \"../../Context/userContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport axios from \"../../../Axios\";\r\nimport \"./Login.css\";\r\n\r\nfunction Login() {\r\n  const [userEmail, setUserEmail] = useState(\"\");\r\n  const [userPassword, setUserPassword] = useState(\"\");\r\n  const { dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const result = await axios.post(\"/userlogin\", {\r\n        email: userEmail,\r\n        password: userPassword,\r\n      });\r\n      if (result) {\r\n        dispatch({\r\n          type: \"SETUSER\",\r\n          token: result.data.token,\r\n          id: result.data.id,\r\n          username: result.data.username,\r\n          isAdmin: result.data.isAdmin,\r\n          isLoggedIn: true,\r\n        });\r\n        localStorage.setItem(\"auth-token\", result.data.token);\r\n        localStorage.setItem(\"isAdmin\", result.data.isAdmin);\r\n        history.push(\"/\");\r\n        window.location.reload(false);\r\n      }\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__body\">\r\n        <h1>Login</h1>\r\n        <ToastContainer />\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              onChange={(e) => setUserEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Atleast 5 characters\"\r\n              onChange={(e) => setUserPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"success\" type=\"submit\">\r\n            Login\r\n          </Button>{\" \"}\r\n          <Button as={Link} to=\"/signup\" variant=\"secondary\">\r\n            Don't have an account?\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport axios from \"../../../Axios\";\r\nimport \"./Signup.css\";\r\n\r\nfunction Signup() {\r\n  const [userName, setName] = useState(\"\");\r\n  const [userEmail, setEmail] = useState(\"\");\r\n  const [userPassword, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(\"/usersignup\", {\r\n        name: userName,\r\n        email: userEmail,\r\n        password: userPassword,\r\n      });\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup\">\r\n      <ToastContainer />\r\n      <div className=\"signup__body\">\r\n        <h1>Create Account</h1>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Atleast 5 characters\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"success\" type=\"submit\">\r\n            Signup\r\n          </Button>{\" \"}\r\n          <Button as={Link} to=\"/login\" variant=\"secondary\">\r\n            Already have an account?\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { ToastContainer, toast } from \"react-toastify\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport axios from \"../../Axios\";\r\nimport \"../User/Signup/Signup.css\";\r\n\r\nfunction AdminSignup() {\r\n  const [userName, setName] = useState(\"\");\r\n  const [userEmail, setEmail] = useState(\"\");\r\n  const [userPassword, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(\"/adminsignup\", {\r\n        name: userName,\r\n        email: userEmail,\r\n        password: userPassword,\r\n      });\r\n      history.push(\"/admin/login\");\r\n    } catch(err) {\r\n      err.response.data.msg && toast.error(err.response.data.msg, {autoClose: 2000});\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup\">\r\n      <ToastContainer />\r\n      <div className=\"signup__body\">\r\n        <h1>Create Seller Account</h1>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Seller Name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Seller Email</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Seller Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Atleast 5 characters\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"success\" type=\"submit\">\r\n            Signup\r\n          </Button>{\" \"}\r\n          <Button as={Link} to=\"/admin/login\" variant=\"secondary\">\r\n            Already have an account?\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminSignup;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport axios from \"../../Axios\";\r\nimport \"../User/Login/Login.css\";\r\n\r\nfunction AdminLogin() {\r\n  const [userEmail, setUserEmail] = useState(\"\");\r\n  const [userPassword, setUserPassword] = useState(\"\");\r\n  const { dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const result = await axios.post(\"/adminlogin\", {\r\n        email: userEmail,\r\n        password: userPassword,\r\n      });\r\n\r\n      if (result) {\r\n        dispatch({\r\n          type: \"SETUSER\",\r\n          token: result.data.token,\r\n          id: result.data.user.id,\r\n          username: result.data.user.username,\r\n          isAdmin: result.data.isAdmin,\r\n          isLoggedIn: true\r\n        });\r\n        localStorage.setItem(\"auth-token\", result.data.token);\r\n        localStorage.setItem(\"isAdmin\", result.data.isAdmin);\r\n        history.push(\"/\");\r\n        window.location.reload(false);\r\n      }\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <ToastContainer />\r\n      <div className=\"login__body\">\r\n        <h1>Seller Login</h1>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              onChange={(e) => setUserEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Atleast 5 characters\"\r\n              onChange={(e) => setUserPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"success\" type=\"submit\">\r\n            Login\r\n          </Button>{\" \"}\r\n          <Button as={Link} to=\"/admin/signup\" variant=\"secondary\">\r\n            Don't have an account?\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminLogin;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { Form, Button, Spinner } from \"react-bootstrap\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport axios from \"../../Axios\";\r\nimport \"./Add_product.css\";\r\n\r\nfunction AddProduct() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [image, setImage] = useState();\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { state } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const fileUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    setImage(file);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", image);\r\n      formdata.append(\"title\", title);\r\n      formdata.append(\"price\", price);\r\n      formdata.append(\"id\", state.id);\r\n      const config = {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n        },\r\n      };\r\n      setIsLoading(true);\r\n      await axios.post(\"/addproducts\", formdata, config);\r\n      setIsLoading(false);\r\n      history.push(`/admin/products`);\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading ? (\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"warning\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      ) : (\r\n        <div className=\"AddProduct\">\r\n          <ToastContainer />\r\n          <div className=\"AddProduct__body\">\r\n            <h3>Add products</h3>\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group>\r\n                <Form.Label>Title</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Enter title\"\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Price</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  placeholder=\"Enter price\"\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Image</Form.Label>\r\n                <Form.File\r\n                  id=\"custom-file\"\r\n                  label=\"Choose image\"\r\n                  onChange={fileUpload}\r\n                />\r\n              </Form.Group>\r\n              <div className=\"addproduct__button\">\r\n                <Button variant=\"success\" type=\"submit\">\r\n                  Add\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default AddProduct;\r\n","import { Card, Button, CardGroup, Spinner } from \"react-bootstrap\";\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport axios from \"../../Axios\";\r\nimport \"./products.css\";\r\n\r\nfunction Products() {\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { state } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const products = await axios.post(\"admin/products\", { id: state.id });\r\n      setIsLoading(false);\r\n      setAllProducts(products.data);\r\n      console.log(products.data);\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const deleteProduct = await axios.post(\r\n        `admin/${state.id}/deleteproducts`,\r\n        {\r\n          productId: e.target.value,\r\n        }\r\n      );\r\n      setIsLoading(false);\r\n      setAllProducts(deleteProduct.data.products);\r\n      toast.success(deleteProduct.data.msg, { autoClose: 2000 });\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  const handleEdit = (e) => {\r\n    history.push(`/admin/${e.target.value}/editproduct`);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading ? (\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"warning\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      ) : (\r\n        <div className=\"products__list\">\r\n          <ToastContainer />\r\n          {allProducts.length <= 0 ? (\r\n            <h1>No products</h1>\r\n          ) : (\r\n            <CardGroup>\r\n              {allProducts.map((data, index) => (\r\n                <Card key={index}>\r\n                  <Card.Img\r\n                    variant=\"top\"\r\n                    src={`http://localhost:4000/${data.imageUrl}`}\r\n                  />\r\n                  <Card.Body>\r\n                    <Card.Title>{data.title}</Card.Title>\r\n                    <Card.Text>\r\n                      Price:{\" \"}\r\n                      <NumberFormat\r\n                        value={data.price}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={true}\r\n                        prefix={\"₹\"}\r\n                      />\r\n                    </Card.Text>\r\n                    <div className=\"card__buttons\">\r\n                      <Button\r\n                        variant=\"danger\"\r\n                        value={data._id}\r\n                        onClick={handleDelete}\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"secondary\"\r\n                        value={data._id}\r\n                        onClick={handleEdit}\r\n                      >\r\n                        Edit product\r\n                      </Button>\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n              ))}\r\n            </CardGroup>\r\n          )}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n","import React, { useEffect, useContext, useState } from \"react\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport { ToastContainer, toast} from \"react-toastify\"\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport UserContext from \"../../Context/userContext\";\r\nimport axios from \"../../../Axios\";\r\nimport \"./EditProduct.css\";\r\n\r\nfunction EditProduct() {\r\n  const [newImage, setNewImage] = useState();\r\n  const { state } = useContext(UserContext);\r\n  const { id } = useParams();\r\n  const { handleSubmit, setValue, register } = useForm();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(`/admin/${id}/geteditproduct`, { id: state.id })\r\n      .then((result) => {\r\n        setValue(\"title\", result.data.title);\r\n        setValue(\"price\", result.data.price);\r\n      });\r\n  }, []);\r\n\r\n  const fileUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    setNewImage(file);\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", newImage);\r\n      formdata.append(\"title\", data.title);\r\n      formdata.append(\"price\", data.price);\r\n      formdata.append(\"adminId\", state.user.id);\r\n      const config = {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n        },\r\n      };\r\n      const isUpdated = await axios.post(`/admin/${id}/editproduct`, formdata, config);\r\n      toast.success(isUpdated.data.msg, {autoClose: 2000})\r\n      history.push(`/admin/${state.id}/products`);\r\n    } catch (err) {\r\n      toast.error(err.response.data.msg, {autoClose: 2000})\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"EditProduct\">\r\n      <ToastContainer />\r\n      <div className=\"EditProduct__body\">\r\n        <h3>Edit product</h3>\r\n        <Form onSubmit={handleSubmit(onSubmit)}>\r\n          <Form.Group>\r\n            <Form.Label>Title</Form.Label>\r\n            <Form.Control\r\n              ref={register}\r\n              name=\"title\"\r\n              type=\"text\"\r\n              placeholder=\"Enter title\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Price</Form.Label>\r\n            <Form.Control\r\n              ref={register}\r\n              name=\"price\"\r\n              type=\"number\"\r\n              placeholder=\"Enter price\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Image</Form.Label>\r\n            <Form.File\r\n              id=\"custom-file\"\r\n              label=\"Choose image\"\r\n              onChange={fileUpload}\r\n            />\r\n          </Form.Group>\r\n          <div className=\"editproduct__button\">\r\n            <Button variant=\"success\" type=\"submit\">\r\n              Edit\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditProduct;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Button, Card, Spinner } from \"react-bootstrap\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport BasketContext from \"../Context/basketContext\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport axios from \"../../Axios\";\r\nimport \"./Cart.css\";\r\n\r\nfunction Cart() {\r\n  const [cartProducts, setCartProducts] = useState([]);\r\n  const [totalSum, setTotalSum] = useState();\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { state } = useContext(UserContext);\r\n  const { setBasket } = useContext(BasketContext);\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getCart();\r\n  }, []);\r\n\r\n  const getCart = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const product = await axios.post(\"/getcart\", { userId: id });\r\n      setIsLoading(false);\r\n      setCartProducts(product.data);\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (state.id) {\r\n      axios.post(\"/gettotal\", { userId: state.id }).then((totalsum) => {\r\n        setBasket(totalsum.data.totalQuantity);\r\n        setTotalSum(totalsum.data.total);\r\n      });\r\n    }\r\n  });\r\n  \r\n  const proceedToBuy = () => {\r\n    history.push(`/checkout`);\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const product = await axios.post(`/deleteproductincart/${id}`, {\r\n        productId: e.target.value,\r\n      });\r\n      setIsLoading(false);\r\n      setCartProducts(product.data);\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading ? (\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"warning\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      ) : (\r\n        <div className=\"cartproducts__list\">\r\n          {cartProducts.length <= 0 ? (\r\n            <h1>Cart is empty!!</h1>\r\n          ) : (\r\n            <React.Fragment>\r\n              <ToastContainer />\r\n              {cartProducts.map((data, index) => (\r\n                <Card key={index} className=\"cartproducts__card\">\r\n                  <Card.Body>\r\n                    <Card.Img\r\n                      variant=\"top\"\r\n                      src={`http://localhost:4000/${data.productId.imageUrl}`}\r\n                    />\r\n                    <div className=\"cartproducts__title\">\r\n                      <Card.Title>{data.productId.title}</Card.Title>\r\n                      <Card.Text className=\"card__quantity\">\r\n                        Quantity: {data.quantity}\r\n                      </Card.Text>\r\n                      <Card.Text>\r\n                        Price:{\" \"}\r\n                        <NumberFormat\r\n                          value={data.productId.price}\r\n                          displayType={\"text\"}\r\n                          thousandSeparator={true}\r\n                          prefix={\"₹\"}\r\n                        />\r\n                      </Card.Text>\r\n                    </div>\r\n                  </Card.Body>\r\n                  <div className=\"cartproducts__footer\">\r\n                    <h4>\r\n                      Sub-total:{\" \"}\r\n                      <NumberFormat\r\n                        value={data.quantity * data.productId.price}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={true}\r\n                        prefix={\"₹\"}\r\n                      />\r\n                    </h4>\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      value={data.productId._id}\r\n                      onClick={handleDelete}\r\n                    >\r\n                      Remove from Cart\r\n                    </Button>\r\n                  </div>\r\n                </Card>\r\n              ))}\r\n              <div className=\"checkout\">\r\n                <div className=\"checkout__total\">\r\n                  Total:{\" \"}\r\n                  <NumberFormat\r\n                    value={totalSum}\r\n                    displayType={\"text\"}\r\n                    thousandSeparator={true}\r\n                    prefix={\"₹\"}\r\n                  />\r\n                </div>\r\n                <div className=\"checkout__button\">\r\n                  <Button onClick={proceedToBuy}>\r\n                    <FlashOnIcon />\r\n                    Proceed to Buy\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Button, Card, Spinner } from \"react-bootstrap\";\r\nimport NumberFormat from \"react-number-format\"\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"../../Axios\";\r\nimport \"./Checkout.css\";\r\n\r\nconst getDataFromServer = async () => {\r\n  const Stripekey = await axios.get(\"/sendpikey\");\r\n  return Stripekey.data;\r\n};\r\n\r\nconst stripePromise = getDataFromServer().then((res) => {\r\n  return loadStripe(res);\r\n});\r\n\r\nfunction Checkout() {\r\n  const [cartProducts, setCartProducts] = useState([]);\r\n  const [totalSum, setTotalSum] = useState();\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { state } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    axios.post(\"/getcart\", { userId: state.id }).then((product) => {\r\n      setIsLoading(false);\r\n      setCartProducts(product.data);\r\n    });\r\n    axios.post(\"/gettotal\", { userId: state.id }).then((totalsum) => {\r\n      setTotalSum(totalsum.data.total);\r\n    });\r\n  }, []);\r\n\r\n  const Checkout = async () => {\r\n    try {\r\n      const stripe = await stripePromise;\r\n\r\n      if (!stripe) {\r\n        // Stripe.js has not yet loaded.\r\n        // Make  sure to disable form submission until Stripe.js has loaded.\r\n        return;\r\n      }\r\n      setIsLoading(true);\r\n      const res = await axios.post(\"/checkout\", { userId: state.id });\r\n      const clientSecret = res.data.id;\r\n      setIsLoading(true);\r\n      const result = await stripe.redirectToCheckout({\r\n        sessionId: clientSecret,\r\n      });\r\n      if (result.error) {\r\n        console.log(result.error.message);\r\n      } else {\r\n        if (result.paymentIntent.status === \"succeeded\") {\r\n          setIsLoading(false);\r\n          history.push(\"/\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading ? (\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"warning\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      ) : (\r\n        <div className=\"checkoutproducts__list\">\r\n          <ToastContainer />\r\n          {cartProducts.map((data, index) => (\r\n            <Card key={index} className=\"checkoutproducts__card\">\r\n              <Card.Body>\r\n                <div className=\"checkoutproducts__title\">\r\n                  <Card.Title>{data.productId.title}</Card.Title>\r\n                  <Card.Text className=\"checkout__quantity\">\r\n                    Quantity: {data.quantity}\r\n                  </Card.Text>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          ))}\r\n          <div className=\"checkout\">\r\n            <div className=\"checkout__total\">Total: <NumberFormat value={totalSum} displayType={'text'} thousandSeparator={true} prefix={'₹'} /></div>\r\n            <div className=\"checkout__button\">\r\n              <Button onClick={Checkout}>PLACE ORDER</Button>\r\n            </div>{\" \"}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useEffect, useContext, useState } from \"react\";\r\nimport UserContext from \"../Context/userContext\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { Button, Spinner } from \"react-bootstrap\";\r\nimport { saveAs } from \"file-saver\";\r\nimport axios from \"../../Axios\";\r\nimport \"./Orders.css\";\r\n\r\nfunction Orders() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { state } = useContext(UserContext);\r\n  \r\n  useEffect(() => {\r\n    getOrders();\r\n  }, []);\r\n\r\n  const getOrders = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const orders = await axios.post(\"/myorders\", { userId: state.id });\r\n      setIsLoading(false);\r\n      setOrders(orders.data);\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  const handleInvoice = async (e) => {\r\n    try {\r\n      setIsLoading(true);\r\n      const getpdf = await axios.post(\"/makeinvoice\", {\r\n        orderId: e.target.value,\r\n        userId: state.id,\r\n      });\r\n      if (getpdf) {\r\n        setIsLoading(true);\r\n        const result = await axios.post(\r\n          \"/getinvoice\",\r\n          { orderId: e.target.value },\r\n          { responseType: \"blob\" }\r\n        );\r\n        setIsLoading(false);\r\n        const pdfblob = new Blob([result.data], { type: \"application/pdf\" });\r\n        saveAs(pdfblob, \"invoice.pdf\");\r\n      }\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        toast.error(err.response.data.msg, { autoClose: 2000 });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading ? (\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"warning\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      ) : (\r\n        <div>\r\n          <ToastContainer />\r\n          {orders.length <= 0 ? (\r\n            <h1>Nothing Here!</h1>\r\n          ) : (\r\n            <React.Fragment>\r\n              <div className=\"orders\">\r\n                {orders.map((orders, index) => (\r\n                  <div key={index} className=\"orders__item\">\r\n                    <div className=\"orders__item__header\">\r\n                      <div>\r\n                        Order - # {orders._id} -{\" \"}\r\n                        <Button\r\n                          variant=\"link\"\r\n                          onClick={handleInvoice}\r\n                          value={orders._id}\r\n                        >\r\n                          Invoice\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"orders__products\">\r\n                      {orders.products.map((product, index) => (\r\n                        <div className=\"orders__products-item\" key={index}>\r\n                          {product.product.title}\r\n                          <div className=\"orders__products-item__quantity\">\r\n                            Quantity: ({product.quantity})\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport UserContext from \"./Context/userContext\";\r\n\r\nconst ProtectedRoute = ({ component: Comp, path, ...rest }) => {\r\n  const { state } = useContext(UserContext);\r\n \r\n  return (\r\n    <Route\r\n      path={path}\r\n      {...rest}\r\n      render={(props) => {\r\n        return state.isLoggedIn === true ? (\r\n          <Comp {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n            <h1>Sorry, you page cannot be found</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","\r\nfunction Reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"SETUSER\":\r\n      return {\r\n        token: action.token,\r\n        id: action.id, \r\n        username: action.username,\r\n        isAdmin: action.isAdmin,\r\n        isLoggedIn: action.isLoggedIn,\r\n      };\r\n    default:\r\n      return {state}\r\n  }\r\n}\r\n\r\nexport default Reducer;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport createPersistedReducer from \"use-persisted-reducer\";\n\nimport UserContext from \"./Components/Context/userContext\";\nimport BasketContext from \"./Components/Context/basketContext\";\nimport Home from \"./Components/Home/Home\";\nimport Header from \"./Components/Header/Header\";\nimport Login from \"./Components/User/Login/Login\";\nimport Signup from \"./Components/User/Signup/Signup\";\nimport AdminSignup from \"./Components/Admin/adminSignup\";\nimport AdminLogin from \"./Components/Admin/adminLogin\";\nimport AddProduct from \"./Components/Admin/AddProduct\";\nimport Products from \"./Components/Admin/Products\";\nimport EditProduct from \"./Components/Admin/EditProduct/EditProduct\";\nimport Cart from \"./Components/cart/Cart\";\nimport Checkout from \"./Components/checkout/Checkout\";\nimport Orders from \"./Components/Orders/Orders\";\nimport ProtectedRoute from \"./Components/ProtectedRoute\";\nimport NotFound from \"./Components/NotFound/NotFound\";\nimport axios from \"./Axios\";\nimport Reducer from \"./Reducer\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\n\nconst usePersistedReducer = createPersistedReducer(\"state\");\nconst initialState = {\n  token: undefined,\n  id: undefined,\n  username: undefined,\n  isAdmin: undefined,\n  isLoggedIn: undefined,\n};\n\nfunction App() {\n  const [state, dispatch] = usePersistedReducer(Reducer, initialState);\n\n  const [basket, setBasket] = useState(0);\n\n  useEffect(() => {\n    const checkLoggedIn = async () => {\n      let token = localStorage.getItem(\"auth-token\");\n      let isAdmin = localStorage.getItem(\"isAdmin\");\n      if (token === null) {\n        localStorage.setItem(\"auth-token\", \"\");\n        localStorage.setItem(\"isAdmin\", null);\n        token = \" \";\n      }\n      const tokenRes = await axios.post(\"/posttokenisvalid\", null, {\n        headers: { \"x-auth-token\": token, isAdmin: isAdmin },\n      });\n      if (tokenRes.data) {\n        const userRes = await axios.get(\"/gettokenisvalid\", {\n          headers: { \"x-auth-token\": token, isAdmin: isAdmin },\n        });\n        dispatch({\n          type: \"SETUSER\",\n          token: token,\n          id: userRes.data.id,\n          username: userRes.data.username,\n          isAdmin: userRes.data.isAdmin,\n          isLoggedIn: true,\n        });\n      }\n    };\n    checkLoggedIn();\n  }, []);\n\n  useEffect(() => {\n    if (state.isAdmin === false) {\n      axios.post(\"/gettotal\", { userId: state.id }).then((totalsum) => {\n        setBasket(totalsum.data.totalQuantity);\n      });\n    }\n  });\n\n  return (\n    <React.Fragment>\n      <UserContext.Provider value={{ state, dispatch }}>\n        <BasketContext.Provider value={{ basket, setBasket }}>\n          <Header />\n          <Switch>\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/admin/signup\" component={AdminSignup} />\n            <Route path=\"/admin/login\" component={AdminLogin} />\n            <ProtectedRoute path=\"/admin/add_product\" component={AddProduct} />\n            <ProtectedRoute path=\"/admin/products\" component={Products} />\n            <ProtectedRoute\n              path=\"/admin/:id/editproduct\"\n              component={EditProduct}\n            />\n            <ProtectedRoute path=\"/checkout\" component={Checkout} />\n            <ProtectedRoute path=\"/myorders\" component={Orders} />\n            <ProtectedRoute path=\"/basket/:id\" component={Cart} />\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"*\" component={NotFound} />\n          </Switch>\n        </BasketContext.Provider>\n      </UserContext.Provider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport 'bootstrap/dist/css/bootstrap.css'\nimport reportWebVitals from \"./reportWebVitals\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}